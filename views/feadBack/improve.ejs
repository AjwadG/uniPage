<html lang="en" data-bs-theme="auto"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>add User</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <link rel="icon" type="image/x-icon"  href="content/images/345832210_1468513350593187_453318926271352151_n-removebg.png">
    <link href="css/sign.css" rel="stylesheet">
  </head>
  <body>


    
<main class="form-signin mt-5 pb-0 w-100 mx-auto">
  <img src="content/images/345832210_1468513350593187_453318926271352151_n-removebg.png" width="150px" alt="asd">
  <form method="post" action="/improve" dir="rtl">
    <h1 class="h3 mb-4 mt-3 fw-bold">مواد دراسية تحتاج الى تطوير منهجي </h1>

    <input type="text" name="year" value="<%= year %>" style="display: none;">
    <input type="text" name="dept" value="<%= dept %>" style="display: none;">
    
    <div class="mt-3" id="num_1">
        <div class="form-floating" >
          <input type="text" name="name[]" class="form-control top" required autofocus>
          <label>اسم المادة</label>
        </div>

        <div class="input-group form-floating" >
          <div class="input-group-prepend">
            <label class="input-group-text" style="height: 100%;" for="type">التطوير المطلوب </label>
          </div>
        <select class="custom-select form-control mid" id="type" name="type[]" required>
          <option value="الغاء المادة">الغاء المادة</option>
          <option value="دمج المواد">دمج المواد</option>
          <option value="تقديم و تأخير مادة">تقديم و تأخير مادة</option>
          <option value="اضافة مواد">اضافة مواد</option>
          <option value="تطوير مفردات">تطوير مفردات</option>
          <option value="غيرها">غيرها</option>
        </select>
        </div>

        <div class="form-floating ">
          <input type="text" name="why[]" class="form-control mid" required>
          <label> السبب</label>
        </div>

        <div class="form-floating ">
          <input type="text" name="notes[]" class="form-control bot">
          <label>ملاحظات</label>
        </div>
        <button class="w-100 btn mt-3 btn-lg btn-danger btn_1" type="button" onclick="Add_tag('num_1')">Add</button>
    </div>
    <button class="w-100 btn mt-3 btn-lg btn-danger" type="submit">Submit</button>
    <p class="mt-4 mb-1 text-body-secondary">©Ajwad Elgandouz</p>
  </form>
</main>


    
  <script>
    let count = 0
    function Add_tag(num){
      let n = Number(num.slice(-1));
      let new_num = "num_" + (n + 1);
      let btn = "btn_";
      let tag = document.getElementById(num)

      tag.insertAdjacentHTML('afterend', tag.outerHTML.replaceAll(num, new_num).replaceAll(btn + n, btn + (n + 1)));

      let button = document.querySelectorAll(".btn_" + n);
      button.forEach(btn => {
        btn.toggleAttribute("hidden");
      })

      tag = document.getElementById(new_num)
    
      if (tag.innerHTML.indexOf("\"Remove_tag(") === -1) {
        button = document.querySelector(".btn_" + (n + 1)).outerHTML.replaceAll("Add", "Remove").replaceAll(btn + n, btn + (n + 1))
        tag.insertAdjacentHTML('beforeend', button);
      }

    }
    function Remove_tag(num){
      let n = Number(num.slice(-1));
      document.getElementById(num).remove();
      let button = document.querySelectorAll(".btn_" + (n - 1));
      button.forEach(btn => {
        btn.toggleAttribute("hidden");
      })
    }
  </script>

</body></html>